{"ast":null,"code":"import _objectSpread from \"/Users/armenmerikyan/Desktop/wd/tfnlab.com/metagascarnext/stage-presets-gltfjsx/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/Users/armenmerikyan/Desktop/wd/tfnlab.com/metagascarnext/stage-presets-gltfjsx/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"unsuspend\", \"start\", \"crossOrigin\", \"muted\", \"loop\"];\nimport * as THREE from 'three';\nimport { useEffect } from 'react';\nimport { useThree } from '@react-three/fiber';\nimport { suspend } from 'suspend-react';\nfunction useVideoTexture(src, props) {\n  var _unsuspend$crossOrigi = _objectSpread({\n      unsuspend: 'loadedmetadata',\n      crossOrigin: 'Anonymous',\n      muted: true,\n      loop: true,\n      start: true,\n      playsInline: true\n    }, props),\n    unsuspend = _unsuspend$crossOrigi.unsuspend,\n    start = _unsuspend$crossOrigi.start,\n    crossOrigin = _unsuspend$crossOrigi.crossOrigin,\n    muted = _unsuspend$crossOrigi.muted,\n    loop = _unsuspend$crossOrigi.loop,\n    rest = _objectWithoutProperties(_unsuspend$crossOrigi, _excluded);\n  var gl = useThree(function (state) {\n    return state.gl;\n  });\n  var texture = suspend(function () {\n    return new Promise(function (res, rej) {\n      var video = Object.assign(document.createElement('video'), _objectSpread({\n        src: src,\n        crossOrigin: crossOrigin,\n        loop: loop,\n        muted: muted\n      }, rest));\n      var texture = new THREE.VideoTexture(video);\n      texture.encoding = gl.outputEncoding;\n      video.addEventListener(unsuspend, function () {\n        return res(texture);\n      });\n    });\n  }, [src]);\n  useEffect(function () {\n    return void (start && texture.image.play());\n  }, [texture, start]);\n  return texture;\n}\nexport { useVideoTexture };","map":{"version":3,"names":["THREE","useEffect","useThree","suspend","useVideoTexture","src","props","unsuspend","crossOrigin","muted","loop","start","playsInline","rest","gl","state","texture","Promise","res","rej","video","Object","assign","document","createElement","VideoTexture","encoding","outputEncoding","addEventListener","image","play"],"sources":["/Users/armenmerikyan/Desktop/wd/tfnlab.com/metagascarnext/stage-presets-gltfjsx/node_modules/@react-three/drei/core/useVideoTexture.js"],"sourcesContent":["import * as THREE from 'three';\nimport { useEffect } from 'react';\nimport { useThree } from '@react-three/fiber';\nimport { suspend } from 'suspend-react';\n\nfunction useVideoTexture(src, props) {\n  const {\n    unsuspend,\n    start,\n    crossOrigin,\n    muted,\n    loop,\n    ...rest\n  } = {\n    unsuspend: 'loadedmetadata',\n    crossOrigin: 'Anonymous',\n    muted: true,\n    loop: true,\n    start: true,\n    playsInline: true,\n    ...props\n  };\n  const gl = useThree(state => state.gl);\n  const texture = suspend(() => new Promise((res, rej) => {\n    const video = Object.assign(document.createElement('video'), {\n      src,\n      crossOrigin,\n      loop,\n      muted,\n      ...rest\n    });\n    const texture = new THREE.VideoTexture(video);\n    texture.encoding = gl.outputEncoding;\n    video.addEventListener(unsuspend, () => res(texture));\n  }), [src]);\n  useEffect(() => void (start && texture.image.play()), [texture, start]);\n  return texture;\n}\n\nexport { useVideoTexture };\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,OAAO,QAAQ,eAAe;AAEvC,SAASC,eAAe,CAACC,GAAG,EAAEC,KAAK,EAAE;EACnC;MAQEC,SAAS,EAAE,gBAAgB;MAC3BC,WAAW,EAAE,WAAW;MACxBC,KAAK,EAAE,IAAI;MACXC,IAAI,EAAE,IAAI;MACVC,KAAK,EAAE,IAAI;MACXC,WAAW,EAAE;IAAI,GACdN,KAAK;IAbRC,SAAS,yBAATA,SAAS;IACTI,KAAK,yBAALA,KAAK;IACLH,WAAW,yBAAXA,WAAW;IACXC,KAAK,yBAALA,KAAK;IACLC,IAAI,yBAAJA,IAAI;IACDG,IAAI;EAUT,IAAMC,EAAE,GAAGZ,QAAQ,CAAC,UAAAa,KAAK;IAAA,OAAIA,KAAK,CAACD,EAAE;EAAA,EAAC;EACtC,IAAME,OAAO,GAAGb,OAAO,CAAC;IAAA,OAAM,IAAIc,OAAO,CAAC,UAACC,GAAG,EAAEC,GAAG,EAAK;MACtD,IAAMC,KAAK,GAAGC,MAAM,CAACC,MAAM,CAACC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;QACzDnB,GAAG,EAAHA,GAAG;QACHG,WAAW,EAAXA,WAAW;QACXE,IAAI,EAAJA,IAAI;QACJD,KAAK,EAALA;MAAK,GACFI,IAAI,EACP;MACF,IAAMG,OAAO,GAAG,IAAIhB,KAAK,CAACyB,YAAY,CAACL,KAAK,CAAC;MAC7CJ,OAAO,CAACU,QAAQ,GAAGZ,EAAE,CAACa,cAAc;MACpCP,KAAK,CAACQ,gBAAgB,CAACrB,SAAS,EAAE;QAAA,OAAMW,GAAG,CAACF,OAAO,CAAC;MAAA,EAAC;IACvD,CAAC,CAAC;EAAA,GAAE,CAACX,GAAG,CAAC,CAAC;EACVJ,SAAS,CAAC;IAAA,OAAM,MAAMU,KAAK,IAAIK,OAAO,CAACa,KAAK,CAACC,IAAI,EAAE,CAAC;EAAA,GAAE,CAACd,OAAO,EAAEL,KAAK,CAAC,CAAC;EACvE,OAAOK,OAAO;AAChB;AAEA,SAASZ,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}