{"ast":null,"code":"import _classCallCheck from \"/Users/armenmerikyan/Desktop/wd/tfnlab.com/metagascarnext/stage-presets-gltfjsx/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/armenmerikyan/Desktop/wd/tfnlab.com/metagascarnext/stage-presets-gltfjsx/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/Users/armenmerikyan/Desktop/wd/tfnlab.com/metagascarnext/stage-presets-gltfjsx/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/armenmerikyan/Desktop/wd/tfnlab.com/metagascarnext/stage-presets-gltfjsx/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/armenmerikyan/Desktop/wd/tfnlab.com/metagascarnext/stage-presets-gltfjsx/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/armenmerikyan/Desktop/wd/tfnlab.com/metagascarnext/stage-presets-gltfjsx/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Object3D, Vector3, Matrix4 } from 'three';\nvar CSS2DObject = /*#__PURE__*/function (_Object3D) {\n  _inherits(CSS2DObject, _Object3D);\n  var _super = _createSuper(CSS2DObject);\n  function CSS2DObject() {\n    var _this2;\n    var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.createElement('div');\n    _classCallCheck(this, CSS2DObject);\n    _this2 = _super.call(this);\n    _this2.isCSS2DObject = true;\n    _this2.element = element;\n    _this2.element.style.position = 'absolute';\n    _this2.element.style.userSelect = 'none';\n    _this2.element.setAttribute('draggable', false);\n    _this2.addEventListener('removed', function () {\n      this.traverse(function (object) {\n        if (object.element instanceof Element && object.element.parentNode !== null) {\n          object.element.parentNode.removeChild(object.element);\n        }\n      });\n    });\n    return _this2;\n  }\n  _createClass(CSS2DObject, [{\n    key: \"copy\",\n    value: function copy(source, recursive) {\n      _get(_getPrototypeOf(CSS2DObject.prototype), \"copy\", this).call(this, source, recursive);\n      this.element = source.element.cloneNode(true);\n      return this;\n    }\n  }]);\n  return CSS2DObject;\n}(Object3D);\nvar _vector = /*#__PURE__*/new Vector3();\nvar _viewMatrix = /*#__PURE__*/new Matrix4();\nvar _viewProjectionMatrix = /*#__PURE__*/new Matrix4();\nvar _a = /*#__PURE__*/new Vector3();\nvar _b = /*#__PURE__*/new Vector3();\nvar CSS2DRenderer = /*#__PURE__*/_createClass(function CSS2DRenderer() {\n  var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  _classCallCheck(this, CSS2DRenderer);\n  var _this = this;\n  var _width, _height;\n  var _widthHalf, _heightHalf;\n  var cache = {\n    objects: new WeakMap()\n  };\n  var domElement = parameters.element !== undefined ? parameters.element : document.createElement('div');\n  domElement.style.overflow = 'hidden';\n  this.domElement = domElement;\n  this.getSize = function () {\n    return {\n      width: _width,\n      height: _height\n    };\n  };\n  this.render = function (scene, camera) {\n    if (scene.matrixWorldAutoUpdate === true || scene.autoUpdate === true) scene.updateMatrixWorld();\n    if (camera.parent === null && (camera.matrixWorldAutoUpdate == null || camera.matrixWorldAutoUpdate === true)) {\n      camera.updateMatrixWorld();\n    }\n    _viewMatrix.copy(camera.matrixWorldInverse);\n    _viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, _viewMatrix);\n    renderObject(scene, scene, camera);\n    zOrder(scene);\n  };\n  this.setSize = function (width, height) {\n    _width = width;\n    _height = height;\n    _widthHalf = _width / 2;\n    _heightHalf = _height / 2;\n    domElement.style.width = width + 'px';\n    domElement.style.height = height + 'px';\n  };\n  function renderObject(object, scene, camera) {\n    if (object.isCSS2DObject) {\n      _vector.setFromMatrixPosition(object.matrixWorld);\n      _vector.applyMatrix4(_viewProjectionMatrix);\n      var visible = object.visible === true && _vector.z >= -1 && _vector.z <= 1 && object.layers.test(camera.layers) === true;\n      object.element.style.display = visible === true ? '' : 'none';\n      if (visible === true) {\n        object.onBeforeRender(_this, scene, camera);\n        var element = object.element;\n        element.style.transform = 'translate(-50%,-50%) translate(' + (_vector.x * _widthHalf + _widthHalf) + 'px,' + (-_vector.y * _heightHalf + _heightHalf) + 'px)';\n        if (element.parentNode !== domElement) {\n          domElement.appendChild(element);\n        }\n        object.onAfterRender(_this, scene, camera);\n      }\n      var objectData = {\n        distanceToCameraSquared: getDistanceToSquared(camera, object)\n      };\n      cache.objects.set(object, objectData);\n    }\n    for (var i = 0, l = object.children.length; i < l; i++) {\n      renderObject(object.children[i], scene, camera);\n    }\n  }\n  function getDistanceToSquared(object1, object2) {\n    _a.setFromMatrixPosition(object1.matrixWorld);\n    _b.setFromMatrixPosition(object2.matrixWorld);\n    return _a.distanceToSquared(_b);\n  }\n  function filterAndFlatten(scene) {\n    var result = [];\n    scene.traverse(function (object) {\n      if (object.isCSS2DObject) result.push(object);\n    });\n    return result;\n  }\n  function zOrder(scene) {\n    var sorted = filterAndFlatten(scene).sort(function (a, b) {\n      if (a.renderOrder !== b.renderOrder) {\n        return b.renderOrder - a.renderOrder;\n      }\n      var distanceA = cache.objects.get(a).distanceToCameraSquared;\n      var distanceB = cache.objects.get(b).distanceToCameraSquared;\n      return distanceA - distanceB;\n    });\n    var zMax = sorted.length;\n    for (var i = 0, l = sorted.length; i < l; i++) {\n      sorted[i].element.style.zIndex = zMax - i;\n    }\n  }\n});\nexport { CSS2DObject, CSS2DRenderer };","map":{"version":3,"names":["Object3D","Vector3","Matrix4","CSS2DObject","element","document","createElement","isCSS2DObject","style","position","userSelect","setAttribute","addEventListener","traverse","object","Element","parentNode","removeChild","source","recursive","cloneNode","_vector","_viewMatrix","_viewProjectionMatrix","_a","_b","CSS2DRenderer","parameters","_this","_width","_height","_widthHalf","_heightHalf","cache","objects","WeakMap","domElement","undefined","overflow","getSize","width","height","render","scene","camera","matrixWorldAutoUpdate","autoUpdate","updateMatrixWorld","parent","copy","matrixWorldInverse","multiplyMatrices","projectionMatrix","renderObject","zOrder","setSize","setFromMatrixPosition","matrixWorld","applyMatrix4","visible","z","layers","test","display","onBeforeRender","transform","x","y","appendChild","onAfterRender","objectData","distanceToCameraSquared","getDistanceToSquared","set","i","l","children","length","object1","object2","distanceToSquared","filterAndFlatten","result","push","sorted","sort","a","b","renderOrder","distanceA","get","distanceB","zMax","zIndex"],"sources":["/Users/armenmerikyan/Desktop/wd/tfnlab.com/metagascarnext/stage-presets-gltfjsx/node_modules/@react-three/drei/node_modules/three-stdlib/renderers/CSS2DRenderer.js"],"sourcesContent":["import { Object3D, Vector3, Matrix4 } from 'three';\n\nclass CSS2DObject extends Object3D {\n  constructor(element = document.createElement('div')) {\n    super();\n    this.isCSS2DObject = true;\n    this.element = element;\n    this.element.style.position = 'absolute';\n    this.element.style.userSelect = 'none';\n    this.element.setAttribute('draggable', false);\n    this.addEventListener('removed', function () {\n      this.traverse(function (object) {\n        if (object.element instanceof Element && object.element.parentNode !== null) {\n          object.element.parentNode.removeChild(object.element);\n        }\n      });\n    });\n  }\n\n  copy(source, recursive) {\n    super.copy(source, recursive);\n    this.element = source.element.cloneNode(true);\n    return this;\n  }\n\n}\n\nconst _vector = /*#__PURE__*/new Vector3();\n\nconst _viewMatrix = /*#__PURE__*/new Matrix4();\n\nconst _viewProjectionMatrix = /*#__PURE__*/new Matrix4();\n\nconst _a = /*#__PURE__*/new Vector3();\n\nconst _b = /*#__PURE__*/new Vector3();\n\nclass CSS2DRenderer {\n  constructor(parameters = {}) {\n    const _this = this;\n\n    let _width, _height;\n\n    let _widthHalf, _heightHalf;\n\n    const cache = {\n      objects: new WeakMap()\n    };\n    const domElement = parameters.element !== undefined ? parameters.element : document.createElement('div');\n    domElement.style.overflow = 'hidden';\n    this.domElement = domElement;\n\n    this.getSize = function () {\n      return {\n        width: _width,\n        height: _height\n      };\n    };\n\n    this.render = function (scene, camera) {\n      if (scene.matrixWorldAutoUpdate === true || scene.autoUpdate === true) scene.updateMatrixWorld();\n\n      if (camera.parent === null && (camera.matrixWorldAutoUpdate == null || camera.matrixWorldAutoUpdate === true)) {\n        camera.updateMatrixWorld();\n      }\n\n      _viewMatrix.copy(camera.matrixWorldInverse);\n\n      _viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, _viewMatrix);\n\n      renderObject(scene, scene, camera);\n      zOrder(scene);\n    };\n\n    this.setSize = function (width, height) {\n      _width = width;\n      _height = height;\n      _widthHalf = _width / 2;\n      _heightHalf = _height / 2;\n      domElement.style.width = width + 'px';\n      domElement.style.height = height + 'px';\n    };\n\n    function renderObject(object, scene, camera) {\n      if (object.isCSS2DObject) {\n        _vector.setFromMatrixPosition(object.matrixWorld);\n\n        _vector.applyMatrix4(_viewProjectionMatrix);\n\n        const visible = object.visible === true && _vector.z >= -1 && _vector.z <= 1 && object.layers.test(camera.layers) === true;\n        object.element.style.display = visible === true ? '' : 'none';\n\n        if (visible === true) {\n          object.onBeforeRender(_this, scene, camera);\n          const element = object.element;\n          element.style.transform = 'translate(-50%,-50%) translate(' + (_vector.x * _widthHalf + _widthHalf) + 'px,' + (-_vector.y * _heightHalf + _heightHalf) + 'px)';\n\n          if (element.parentNode !== domElement) {\n            domElement.appendChild(element);\n          }\n\n          object.onAfterRender(_this, scene, camera);\n        }\n\n        const objectData = {\n          distanceToCameraSquared: getDistanceToSquared(camera, object)\n        };\n        cache.objects.set(object, objectData);\n      }\n\n      for (let i = 0, l = object.children.length; i < l; i++) {\n        renderObject(object.children[i], scene, camera);\n      }\n    }\n\n    function getDistanceToSquared(object1, object2) {\n      _a.setFromMatrixPosition(object1.matrixWorld);\n\n      _b.setFromMatrixPosition(object2.matrixWorld);\n\n      return _a.distanceToSquared(_b);\n    }\n\n    function filterAndFlatten(scene) {\n      const result = [];\n      scene.traverse(function (object) {\n        if (object.isCSS2DObject) result.push(object);\n      });\n      return result;\n    }\n\n    function zOrder(scene) {\n      const sorted = filterAndFlatten(scene).sort(function (a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n          return b.renderOrder - a.renderOrder;\n        }\n\n        const distanceA = cache.objects.get(a).distanceToCameraSquared;\n        const distanceB = cache.objects.get(b).distanceToCameraSquared;\n        return distanceA - distanceB;\n      });\n      const zMax = sorted.length;\n\n      for (let i = 0, l = sorted.length; i < l; i++) {\n        sorted[i].element.style.zIndex = zMax - i;\n      }\n    }\n  }\n\n}\n\nexport { CSS2DObject, CSS2DRenderer };\n"],"mappings":";;;;;;AAAA,SAASA,QAAQ,EAAEC,OAAO,EAAEC,OAAO,QAAQ,OAAO;AAAC,IAE7CC,WAAW;EAAA;EAAA;EACf,uBAAqD;IAAA;IAAA,IAAzCC,OAAO,uEAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAAA;IACjD;IACA,OAAKC,aAAa,GAAG,IAAI;IACzB,OAAKH,OAAO,GAAGA,OAAO;IACtB,OAAKA,OAAO,CAACI,KAAK,CAACC,QAAQ,GAAG,UAAU;IACxC,OAAKL,OAAO,CAACI,KAAK,CAACE,UAAU,GAAG,MAAM;IACtC,OAAKN,OAAO,CAACO,YAAY,CAAC,WAAW,EAAE,KAAK,CAAC;IAC7C,OAAKC,gBAAgB,CAAC,SAAS,EAAE,YAAY;MAC3C,IAAI,CAACC,QAAQ,CAAC,UAAUC,MAAM,EAAE;QAC9B,IAAIA,MAAM,CAACV,OAAO,YAAYW,OAAO,IAAID,MAAM,CAACV,OAAO,CAACY,UAAU,KAAK,IAAI,EAAE;UAC3EF,MAAM,CAACV,OAAO,CAACY,UAAU,CAACC,WAAW,CAACH,MAAM,CAACV,OAAO,CAAC;QACvD;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;IAAC;EACL;EAAC;IAAA;IAAA,OAED,cAAKc,MAAM,EAAEC,SAAS,EAAE;MACtB,sEAAWD,MAAM,EAAEC,SAAS;MAC5B,IAAI,CAACf,OAAO,GAAGc,MAAM,CAACd,OAAO,CAACgB,SAAS,CAAC,IAAI,CAAC;MAC7C,OAAO,IAAI;IACb;EAAC;EAAA;AAAA,EArBuBpB,QAAQ;AAyBlC,IAAMqB,OAAO,GAAG,aAAa,IAAIpB,OAAO,EAAE;AAE1C,IAAMqB,WAAW,GAAG,aAAa,IAAIpB,OAAO,EAAE;AAE9C,IAAMqB,qBAAqB,GAAG,aAAa,IAAIrB,OAAO,EAAE;AAExD,IAAMsB,EAAE,GAAG,aAAa,IAAIvB,OAAO,EAAE;AAErC,IAAMwB,EAAE,GAAG,aAAa,IAAIxB,OAAO,EAAE;AAAC,IAEhCyB,aAAa,6BACjB,yBAA6B;EAAA,IAAjBC,UAAU,uEAAG,CAAC,CAAC;EAAA;EACzB,IAAMC,KAAK,GAAG,IAAI;EAElB,IAAIC,MAAM,EAAEC,OAAO;EAEnB,IAAIC,UAAU,EAAEC,WAAW;EAE3B,IAAMC,KAAK,GAAG;IACZC,OAAO,EAAE,IAAIC,OAAO;EACtB,CAAC;EACD,IAAMC,UAAU,GAAGT,UAAU,CAACvB,OAAO,KAAKiC,SAAS,GAAGV,UAAU,CAACvB,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EACxG8B,UAAU,CAAC5B,KAAK,CAAC8B,QAAQ,GAAG,QAAQ;EACpC,IAAI,CAACF,UAAU,GAAGA,UAAU;EAE5B,IAAI,CAACG,OAAO,GAAG,YAAY;IACzB,OAAO;MACLC,KAAK,EAAEX,MAAM;MACbY,MAAM,EAAEX;IACV,CAAC;EACH,CAAC;EAED,IAAI,CAACY,MAAM,GAAG,UAAUC,KAAK,EAAEC,MAAM,EAAE;IACrC,IAAID,KAAK,CAACE,qBAAqB,KAAK,IAAI,IAAIF,KAAK,CAACG,UAAU,KAAK,IAAI,EAAEH,KAAK,CAACI,iBAAiB,EAAE;IAEhG,IAAIH,MAAM,CAACI,MAAM,KAAK,IAAI,KAAKJ,MAAM,CAACC,qBAAqB,IAAI,IAAI,IAAID,MAAM,CAACC,qBAAqB,KAAK,IAAI,CAAC,EAAE;MAC7GD,MAAM,CAACG,iBAAiB,EAAE;IAC5B;IAEAzB,WAAW,CAAC2B,IAAI,CAACL,MAAM,CAACM,kBAAkB,CAAC;IAE3C3B,qBAAqB,CAAC4B,gBAAgB,CAACP,MAAM,CAACQ,gBAAgB,EAAE9B,WAAW,CAAC;IAE5E+B,YAAY,CAACV,KAAK,EAAEA,KAAK,EAAEC,MAAM,CAAC;IAClCU,MAAM,CAACX,KAAK,CAAC;EACf,CAAC;EAED,IAAI,CAACY,OAAO,GAAG,UAAUf,KAAK,EAAEC,MAAM,EAAE;IACtCZ,MAAM,GAAGW,KAAK;IACdV,OAAO,GAAGW,MAAM;IAChBV,UAAU,GAAGF,MAAM,GAAG,CAAC;IACvBG,WAAW,GAAGF,OAAO,GAAG,CAAC;IACzBM,UAAU,CAAC5B,KAAK,CAACgC,KAAK,GAAGA,KAAK,GAAG,IAAI;IACrCJ,UAAU,CAAC5B,KAAK,CAACiC,MAAM,GAAGA,MAAM,GAAG,IAAI;EACzC,CAAC;EAED,SAASY,YAAY,CAACvC,MAAM,EAAE6B,KAAK,EAAEC,MAAM,EAAE;IAC3C,IAAI9B,MAAM,CAACP,aAAa,EAAE;MACxBc,OAAO,CAACmC,qBAAqB,CAAC1C,MAAM,CAAC2C,WAAW,CAAC;MAEjDpC,OAAO,CAACqC,YAAY,CAACnC,qBAAqB,CAAC;MAE3C,IAAMoC,OAAO,GAAG7C,MAAM,CAAC6C,OAAO,KAAK,IAAI,IAAItC,OAAO,CAACuC,CAAC,IAAI,CAAC,CAAC,IAAIvC,OAAO,CAACuC,CAAC,IAAI,CAAC,IAAI9C,MAAM,CAAC+C,MAAM,CAACC,IAAI,CAAClB,MAAM,CAACiB,MAAM,CAAC,KAAK,IAAI;MAC1H/C,MAAM,CAACV,OAAO,CAACI,KAAK,CAACuD,OAAO,GAAGJ,OAAO,KAAK,IAAI,GAAG,EAAE,GAAG,MAAM;MAE7D,IAAIA,OAAO,KAAK,IAAI,EAAE;QACpB7C,MAAM,CAACkD,cAAc,CAACpC,KAAK,EAAEe,KAAK,EAAEC,MAAM,CAAC;QAC3C,IAAMxC,OAAO,GAAGU,MAAM,CAACV,OAAO;QAC9BA,OAAO,CAACI,KAAK,CAACyD,SAAS,GAAG,iCAAiC,IAAI5C,OAAO,CAAC6C,CAAC,GAAGnC,UAAU,GAAGA,UAAU,CAAC,GAAG,KAAK,IAAI,CAACV,OAAO,CAAC8C,CAAC,GAAGnC,WAAW,GAAGA,WAAW,CAAC,GAAG,KAAK;QAE9J,IAAI5B,OAAO,CAACY,UAAU,KAAKoB,UAAU,EAAE;UACrCA,UAAU,CAACgC,WAAW,CAAChE,OAAO,CAAC;QACjC;QAEAU,MAAM,CAACuD,aAAa,CAACzC,KAAK,EAAEe,KAAK,EAAEC,MAAM,CAAC;MAC5C;MAEA,IAAM0B,UAAU,GAAG;QACjBC,uBAAuB,EAAEC,oBAAoB,CAAC5B,MAAM,EAAE9B,MAAM;MAC9D,CAAC;MACDmB,KAAK,CAACC,OAAO,CAACuC,GAAG,CAAC3D,MAAM,EAAEwD,UAAU,CAAC;IACvC;IAEA,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAG7D,MAAM,CAAC8D,QAAQ,CAACC,MAAM,EAAEH,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;MACtDrB,YAAY,CAACvC,MAAM,CAAC8D,QAAQ,CAACF,CAAC,CAAC,EAAE/B,KAAK,EAAEC,MAAM,CAAC;IACjD;EACF;EAEA,SAAS4B,oBAAoB,CAACM,OAAO,EAAEC,OAAO,EAAE;IAC9CvD,EAAE,CAACgC,qBAAqB,CAACsB,OAAO,CAACrB,WAAW,CAAC;IAE7ChC,EAAE,CAAC+B,qBAAqB,CAACuB,OAAO,CAACtB,WAAW,CAAC;IAE7C,OAAOjC,EAAE,CAACwD,iBAAiB,CAACvD,EAAE,CAAC;EACjC;EAEA,SAASwD,gBAAgB,CAACtC,KAAK,EAAE;IAC/B,IAAMuC,MAAM,GAAG,EAAE;IACjBvC,KAAK,CAAC9B,QAAQ,CAAC,UAAUC,MAAM,EAAE;MAC/B,IAAIA,MAAM,CAACP,aAAa,EAAE2E,MAAM,CAACC,IAAI,CAACrE,MAAM,CAAC;IAC/C,CAAC,CAAC;IACF,OAAOoE,MAAM;EACf;EAEA,SAAS5B,MAAM,CAACX,KAAK,EAAE;IACrB,IAAMyC,MAAM,GAAGH,gBAAgB,CAACtC,KAAK,CAAC,CAAC0C,IAAI,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAE;MAC1D,IAAID,CAAC,CAACE,WAAW,KAAKD,CAAC,CAACC,WAAW,EAAE;QACnC,OAAOD,CAAC,CAACC,WAAW,GAAGF,CAAC,CAACE,WAAW;MACtC;MAEA,IAAMC,SAAS,GAAGxD,KAAK,CAACC,OAAO,CAACwD,GAAG,CAACJ,CAAC,CAAC,CAACf,uBAAuB;MAC9D,IAAMoB,SAAS,GAAG1D,KAAK,CAACC,OAAO,CAACwD,GAAG,CAACH,CAAC,CAAC,CAAChB,uBAAuB;MAC9D,OAAOkB,SAAS,GAAGE,SAAS;IAC9B,CAAC,CAAC;IACF,IAAMC,IAAI,GAAGR,MAAM,CAACP,MAAM;IAE1B,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGS,MAAM,CAACP,MAAM,EAAEH,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;MAC7CU,MAAM,CAACV,CAAC,CAAC,CAACtE,OAAO,CAACI,KAAK,CAACqF,MAAM,GAAGD,IAAI,GAAGlB,CAAC;IAC3C;EACF;AACF,CAAC;AAIH,SAASvE,WAAW,EAAEuB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}